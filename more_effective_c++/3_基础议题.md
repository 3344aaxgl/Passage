<font size=5 color=red>不要对数组使用多态</font>

对于入参为基类数组的函数来说，如果传入的参数为继承类的数组，则计算数组中下一个对象的地址时是按照基类的大小来计算。如果调用的是虚函数，第一个对象确实能调用成功，但由于接下来的对象地址计算错误，所以报错
 
```
class BST
{
  private:
    int data;

  public:
    BST() : data(0){};
   virtual ostream &operator<<(ostream &os)//本来应该写成友元的，这里为了测试虚函数
    {
        os << "BST.data:" << data << ' ';
        return os;
    }
};

class BalanceBST : public BST
{
  private:
    string value;

  public:
    BalanceBST() : value("hello"){};
    ostream &operator<<(ostream &os)
    {
        os << " BalanceBST.value: " << value<<'\n';
        return os;
    }
};

void printBSTArray(ostream& os, BST bBSTArray[], int numElements)
{
    for (int i = 0; i < numElements; i++) {
     bBSTArray[i] << os;
    }
}

int main()
{
    BalanceBST bt[10];
    printBSTArray(cout,bt,10);
    return 0;
}
```